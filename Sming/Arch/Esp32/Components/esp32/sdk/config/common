#
# Espressif IoT Development Framework (ESP-IDF) Project Configuration
#
# SMING SETTINGS
#

#
# Common to all ESP32 variants
#

#
# SDK tool configuration
#

CONFIG_COMPILER_OPTIMIZATION_SIZE=y

# Mandatory LWIP changes
CONFIG_LWIP_TCPIP_TASK_STACK_SIZE=16384
CONFIG_ESP_NETIF_TCPIP_ADAPTER_COMPATIBLE_LAYER=n

# Ethernet
CONFIG_ETH_USE_SPI_ETHERNET=y
CONFIG_ETH_SPI_ETHERNET_W5500=y
CONFIG_ETH_SPI_ETHERNET_DM9051=y

# WiFi
CONFIG_ESP_WIFI_ENABLE_WPA3_SAE=n
CONFIG_ESP_WIFI_ENABLE_WPA3_OWE_STA=n
CONFIG_ESP_WIFI_SOFTAP_SAW_SUPPORT=n

# Bluetooth
CONFIG_BT_ENABLED=y
CONFIG_BT_BLUEDROID_ENABLED=n
CONFIG_BT_NIMBLE_ENABLED=y
CONFIG_BT_NIMBLE_CRYPTO_STACK_MBEDTLS=n
CONFIG_BLE_MESH=n
CONFIG_BT_NIMBLE_MESH=n

CONFIG_ESP32_WIFI_SW_COEXIST_ENABLE=n

# Mandatory Sming framework changes
CONFIG_ESP_TASK_WDT_TIMEOUT_S=8

# Required by HardwareSPI library
CONFIG_SPI_MASTER_IN_IRAM=y
CONFIG_SPI_MASTER_ISR_IN_IRAM=y

# Disable VFS
CONFIG_VFS_SUPPORT_IO=n
CONFIG_VFS_SUPPORT_DIR=n
CONFIG_VFS_SUPPORT_SELECT=n
CONFIG_VFS_SUPPORT_TERMIOS=n

# Not used
CONFIG_MBEDTLS_CERTIFICATE_BUNDLE=n

# Don't change provided flash configuration information
CONFIG_ESPTOOLPY_FLASHSIZE_DETECT=n

# We'll handle WDT initialisation ourselves thankyouverymuch
CONFIG_ESP_TASK_WDT_INIT=n

# Issues with dual-core CPU, see #2653
CONFIG_FREERTOS_UNICORE=y
